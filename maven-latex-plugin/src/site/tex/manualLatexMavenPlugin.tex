\RequirePackage[l2tabu, orthodox]{nag}
% blabla 
%\PassOptionsToPackage{dvipdfmx}{xcolor} %or dvipdfm 
%\PassOptionsToPackage{dvipdfmx}{graphicx} %or dvipdfm 
%\RequirePackage{lmodern} % does not work with htlatex
\documentclass[12pt]{book}
\newif\iflatextortf % false for latex but set true for latex2rtf internally 
\pdfminorversion=7

\input{header.tex}

\input{buildParams.tex}
% not before pdfTeX 3.14159265-2.6-1.40.17
\pdfinfoomitdate=1 % omit CreationDate and ModDate keys.
%\pdftrailer=0 % no adding to the trailer dictionary.
\pdftrailerid{}
\pdfsuppressptexinfo=-1
% 1 -> PTEX.Fullbanner
% 2 -> PTEX.FileName
% 4 -> PTEX.PageNumber
% 8 -> PTEX.InfoDict (/Producer /Creator /CreationDate /ModDate /Trapped)
% The following is to control metadata: 
% - erase docdata and set the ones needed thereafter
% - erase trailer to make repreoducible 
%   CAUTION: This is not recommended as the docs are no longer individual. 


%\pdfinfo{
%   /Author (Ernst Reissner)
%   /Title  (Maven plugin and ant-task to process latex)
%   /CreationDate (unknown)
%   /ModDate (unknown)
%   /Subject (latex plugin for maven and latex task for ant)
%   /Keywords (svg;png;metapost;PDF;LaTeX;maven;ant)
%}

\hypersetup{
  pdfinfo={
    Author      ={Ernst Reissner},
    Title       ={Maven plugin and ant-task to process latex},
    CreationDate={unknown},
    ModDate     ={unknown},
    Subject     ={latex plugin for maven and latex task for ant},
    Keywords    ={svg;png;metapost;PDF;LaTeX;maven;ant}
  }
}
% TBD: check of resulting pdf with exif unveils a warning duplicate author 

\ifthenelse{\boolean{texFhtLoaded}}{%
  % no glossaries and no index with tex4ht 
  \newcommand{\gls}[1]{#1}
  \renewcommand{\index}[1]{ }
}{%
\setacronymstyle{long-short}
% file formats 
\newacronym{pdf}{pdf}{portable document format}
\newacronym{dvi}{dvi}{device independent file format}
\newacronym{eps}{eps}{encapsulated postscript}
\newacronym{tex}{tex}{tex the format, which may also be latex}
\newacronym{html}{html}{hypertext markup language}
\newacronym{xhtml}{xhtml}{extensible hypertext markup language}
\newacronym{odt}{odt}{open document text}
\newacronym{doc}{doc}{outdated document format for MS word }
\newacronym{docx}{docx}{current document format for MS word }
\newacronym{sgml}{sgml}{Standard generalized markup language }
\newacronym{xml}{xml}{extensible markup language }
\newacronym{ptx}{ptx}{pdf/postscript tex format }% home brewed 

\newacronym{fig}{fig}{native file format for xfig }
\newacronym{gp}{gp}{Gnuplot file format}
\newacronym{png}{png}{Portable Network Graphics}
\newacronym{jpg}{jpg}{Graphics format developed by the Joint Photographic Experts Group }
\newacronym{gif}{gif}{Graphics Interchange Format, allows also animations }
\newacronym{svg}{svg}{Scalable Vector Graphics}
% latex file endings 
\newacronym{toc}{toc}{table of contents}
\newacronym{lof}{lof}{list of figures}
\newacronym{lot}{lot}{list of tables}
\newacronym{lol}{lol}{list of listings}
\newacronym{aux}{aux}{auxiliary file}
\newacronym{log}{log}{logging file (for \LaTeX{} and mpost)}
\newacronym{idx}{idx}{index file containing unsorted and multiple index entries}
\newacronym{ind}{ind}{%
index file containing sorted, unified and formatted index entries}
\newacronym{glo}{glo}{%
glossary file containing unsorted and multiple glossary entries}
\newacronym{gls}{gls}{%
glossary file containing sorted, unified and formatted glossary entries}


\newacronym{mp}{mp}{metapost}
\newacronym{ps}{ps}{PostScript}
\newacronym{mps}{mps}{metapost's postscript like output including text}
\newacronym{mpx}{mpx}{metapost tex output: texts }
}

% \newglossaryentry{latex}{name={latex},description={%
% A document preparation system 
% converting sources in the latex-format preferrably into pdf-output. 
% Historically, output was in \gls{dvi}-format 
% which is still used by htlatex as an intermediate format 
% to produce \gls{html} resp.~\gls{xhtml} and \gls{odt} output. 
% }}
% \newglossaryentry{htlatex}{name={htlatex},description={%
% A script which wraps latex 
% but producing (x)html and odt output instead of pdf 
% which is usual for latex. 
% }}
%\newglossaryentry{ps}{name={PostScript},description={%
%A computer language for creating vector graphics. 
%}}


% how to number the glossary in the toc? seemingly a gap in tocbibind 
\usepackage[nottoc, numindex, numbib]{tocbibind}

\renewcommand{\lstlistoflistings}{\begingroup
\tocfile{\lstlistingname}{lol}
\endgroup}
%and to number the Listof heading do:
\renewcommand{\lstlistoflistings}{\begingroup
%\tocsection
%\tocchapter
\tocfile{List of \lstlistingname{}s}{lol}
\endgroup}


\newindex[General Index]{idx}
\newindex[LaTeX Packages]{pkg}
% does not work 
%\setindexpreamble[pkg]{This index comprises all the latex packages used. }

\title{Manual for the \artifactId{} \protect\\
  and for an according ant-task \protect\\
Version \strippedVersionID}
\author{Ernst Reissner (rei3ner@arcor.de)}
\date{\versionDate}

\begin{document}
\maketitle

\tableofcontents
\listoffigures
\listoftables
\lstlistoflistings


\chapter{Introduction}

This document is created with \texttt{pdflatex} or that like 
with output format 
\ifpdf%
pdf%
\else
dvi%
\fi.
The package \pkg{tex4ht} 
is \ifthenelse{\boolean{texFhtLoaded}}{}{not} loaded. 

\LaTeX{} is a beautiful way to create printable documents, 
in our days preferably as \gls{pdf}-files, 
with a particular strength in typesetting formulae like
% pandoc invocation given in README.md
% TBD: check why pandoc can create this formula whereas it fails for align.
% TBD: pandoc seems to have problems with links to tables
% and tables dont look optimal.
% TBD: link to figures seem not to work, to be honest i cannot see any figure
% whereas toc is present, other tables are not. 
% also index, bibliography and that like seems to miss. 
%
% \begin{equation*}
%   \pi  = \sqrt{12}\;\sum^\infty_{k=0} \frac{(-3)^{-k}}{2k+1}. %chktex 3
% \end{equation*}
%
\begin{align}
\pi & = \sqrt{12}\;\sum^\infty_{k=0} \frac{(-3)^{-k}}{2k+1}. %chktex 3
\end{align}
%
Here, portability of the format \gls{pdf} is a vital feature. 
In the past, normally \gls{dvi} (device independent)
described in~\cite{DviF} has been used 
and still creation of external formats like \gls{html}, 
\gls{odt} and \gls{docx} are based on an intermediate \gls{dvi}-file.
It is much more lightweight than pdf specified in~\cite{Pdf1}, \cite{Pdf2}
and in~\cite{Pdf3}.
% strange: no mention of other formats
% epub for example, htm, xhtml and office formats also rtf
% manpages, javahelp

This piece of software implements both an ant-task and a maven-plugin 
generating documentation of various formats from \LaTeX-files 
in an uniform way. 
Chapter~\ref{chap:install} shows how to install both the maven-plugin 
and the ant-task 
and Chapter~\ref{chap:usage} describes the usage. 
Note that the maven-plugin is both easier to install 
and more versatile to be used. 

From the \LaTeX-files, the latex main files must be extracted, 
only these must be compiled. 
It is very usual to endow \LaTeX-files with figures. 
On the other hand, there are many graphic formats 
which cannot be included directly in a \LaTeX-file 
but must be preprocessed. 
If there is some format needed but not yet provided, 
please write an email to the author. 

Graphic files must be preprocessed before processing latex main files, 
as described in Chapter~\ref{chap:GraphConversions}. 
Then follows the proper processing of latex main files 
including creation of index and glossaries 
as described in Chapter~\ref{chap:latexMainConversions}. 
Besides \gls{pdf}, these formats include the web-formats \gls{html} 
and \gls{xhtml}, 
open offices format \gls{odt}, Microsoft's word formats like \gls{docx} 
and finally plain text. 

Uniformity of ant-task and a maven-plugin means in particular, 
that the settings which may be passed to the task 
and those allowed for the plugin are in a one-to-one relation. 
They are both described in Chapter~\ref{chap:settings}. 
It is a design goal, that the auxiliary programs 
used by this software are fully configurable via parameters, 
that aspects not completely specified can be handled flexibly, 
there are parameters supporting information development 
and that for the parameters are default values 
which allow to do without explicit parametrization in most of the cases. 
\index{ant-task}
Both, the ant-task and the maven-plugin rely on the same code base 
which form the package \texttt{org.m2latex.core}. 
The code specific for the ant-task is in \texttt{org.m2latex.antTask} 
and that specific for the maven-plugin is in \texttt{org.m2latex.mojo}. 


The creation process supports an index, a glossary and a bibliography. 
Again, further functionality can be added by demand. 

The present manual is created by the maven-plugin or the ant-task 
described here. 
There should be no difference in the result. 
This manual is designed in a way that it covers the most important features 
but also to demand the most important features. 
That way, creating this manual is a top level test 
for the underlying software. 
The maven-plugin is somehow superior 
because it better supports the design process for the \LaTeX{} sources. 

If something goes wrong in the build process, 
or there is an indication 
of some deficiency in the result of the build process, 
processing must be aborted if going on does not make sense 
and there must be some error or warning logging 
as described in Chapter~\ref{chap:exceptionLogging}. 

The configuration of the maven plugin and of the ant-task 
are given in Chapter~\ref{chap:listings}
in Listing~\ref{lst:fullConfig} and in Listing~\ref{lst:fullConfigAnt},
respectively. 

The author found some gaps, i.e.~desirable features 
which are not yet implemented. 
To prioritize further work, 
all these gaps are collected in Chapter~\ref{chap:gaps}. 
Accordingly, the most important bugs are collected in
Chapter~\ref{chap:bugs}. 
The user is encouraged to contribute with feature requests 
and bug reports and to vote for realization of features 
and on fixing bugs. 
Software quality is ensured mainly through tests 
which are described in Chapter~\ref{chap:tests}. 


\input{manualC2inst}
\input{manualC3usage}
\input{manualC4graphics}
\input{manualC5procMain}
\input{manualC6paramsSettings}


\chapter{Exceptions and Logging}\label{chap:exceptionLogging}

If during execution of this software something goes wrong 
and it is possible to detect that, the user shall be notified. 

Maven foresees a mechanism to abort the whole build, i.e.~lifecycle phase 
or a single goal and accordingly ant allows to abort a task. 
In both cases, abortion is implemented by throwing an exception. 


A maven plugin aborts a goal throwing a 
%
\begin{verbatim}
org.apache.maven.plugin.MojoFailureException
\end{verbatim}
%
and a 
%
\begin{verbatim}
org.apache.maven.plugin.MojoExecutionException 
\end{verbatim}
%
to abort the life-cycle phase. 
Since this plugin is just for documentation, 
there is no need to abort site creation altogether, 
so only the former exception occurs. 

An ant-task aborts an ant-build throwing a
%
\begin{verbatim}
org.apache.tools.ant.BuildException
\end{verbatim}
%
without further distinction. 

This software provides both a maven plugin and an ant task 
built on the same code base. 
Thus the maven plugin throws a \texttt{MojoFailureException} 
if and only if the according ant-task throws an \texttt{BuildException} 
in the same situation. 

Section~\ref{sec:exception} describes 
the philosophy of throwing an exception and 
defines in detail under what circumstances which exception is thrown. 

Roughly speaking, an exception is thrown only if something is really wrong, 
e.g.~a non-recoverable error or an indication 
that the build system is out of control or if this plugin/task 
is likely to destroy the work of another plugin/task. 

If something went wrong, but no exception is thrown, 
the user must be notified by logging 
and the build process to go on, 
skipping a section of a task as small as possible. 
Both, maven and ant provide a logging mechanism 
with the levels error, warning, info and debug. 
Section~\ref{sec:logWarnErr} describes the errors and warnings; 
the lot of infos and debugging output are not described here. 

Verbosity is chosen by the following command line options: 
%
\begin{itemize}
\item[\texttt{-e}] shows error messages, 
\item[\texttt{-X}] shows debug-messages, 
\item[\texttt{-q}] quiet hides the info-level and shows {\em only\/} errors. 
\end{itemize}
%
There seems no way to get warnings only. 

Each exception offers a message and also each warning has a warning message. 
The messages are endowed with a unique identifier of the form 
\texttt{KCCDD}, where \texttt{K} is the kind which is one of 
%
\begin{itemize}
\item[T] Throwable, 
which results in a \texttt{MojoFailureException} for the maven-plugin 
and \texttt{BuildException} for the ant-task. 
This is described in detail in Section~\ref{sec:exception} 
\item[E] logging as ERROR, 
\item[W] logging as WARNING 
\item[I] logging as INFO which occurs frequently
\item[D] logging as DEBUGGING output, which is lengthy 
\end{itemize}

The shortcut \texttt{CC} describes the class where the exception is thrown 
or the warning is logged: 
%
\begin{itemize}
\item[EX] CommandExectutorImpl: 
a class executing applications on a command line. 
\item[PP] LatexPreProcessor: preprocessing of \LaTeX-files: 
Processing of graphic files and detection of latex main files. 
\item[LP] LatexProcessor: processing of \LaTeX-main files: 
conversion into various output formats. 
\item[SS] Settings: A container holding the values of all parameters. 
These are either default or read from the configuration 
in the pom for the maven plugin and in the build file for the ant task. 
\item[MI] MetaInfo: offering meta information
  as expected and actual versions of converters. 
\item[FU] TexFileUtilsImpl: a class providing access to files. 
\end{itemize}
%
Finally, \texttt{DD} is a two digit number enumerating the messages.


\begin{longtable}{|ll|}
\toprule
Identifier        & Message  \\
\multicolumn2{|l|}{Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:LogMI} The logging for MetaInfo   }
\endlastfoot%
\texttt{\footnotesize WMI01} 
& \texttt{\footnotesize Version string from converter \$conv did not match expected form:      } \\
& \texttt{\footnotesize \$conv: 'version'not?in\$interv } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
  Indicates that the version string coming from the converter \$conv
  is not as expected.
  Programming error excluded, this means that the version does not fit,
  i.e. is not in \texttt{\$interv}.
\end{minipage}
} \\
\texttt{\footnotesize WMI02} 
& \texttt{\footnotesize \$conv: '\$actVersion'not in\$interv} \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
  Indicates that the version of converter \$conv can be detected
  and is \$actVersion but does not fit the expectation which is \$expVersion. 
\end{minipage}
}
\end{longtable}




\begin{longtable}{|ll|}
\toprule
Identifier        & Message  \\
\multicolumn2{|l|}{Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:LogFU} The logging for TexFileUtils   }
\endlastfoot%
\texttt{\footnotesize WFU01} 
& \texttt{\footnotesize Cannot read directory '\$dir';  } \\
& \texttt{\footnotesize build may be incomplete. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
TBD. 
\end{minipage}
} \\
\texttt{\footnotesize XFU02} 
& \texttt{\footnotesize  TBD} \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
TBD
\end{minipage}
} \\
\texttt{\footnotesize WFU03}  & \texttt{\footnotesize Cannot close '\$file'.} \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
TBD
\end{minipage}
} \\
\texttt{\footnotesize EFU05}  & \texttt{\footnotesize Cannot delete file '\$file'.} \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
TBD
\end{minipage}
} \\
\texttt{\footnotesize EFU06}  & \texttt{\footnotesize Cannot move file '\$src'
                                to '\$dest'.} \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
TBD
\end{minipage}
} \\
\texttt{\footnotesize EFU07}  & \texttt{\footnotesize File '\$srcFile' to be filtered cannot be read.} \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
  WORKAROUND for \texttt{inkscape}
  filtering \texttt{eps\_tex}-file into \texttt{ptx} file:
  The former is not a readable regular file. 
\end{minipage}
} \\
\texttt{\footnotesize EFU08}  & \texttt{\footnotesize Destination file '\$destFile' for filtering cannot be written.} \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
 WORKAROUND for \texttt{inkscape}
  filtering \texttt{eps\_tex}-file into \texttt{ptx} file:
  The latter is not a writable regular file. 
\end{minipage}
} \\
\texttt{\footnotesize EFU09}  & \texttt{\footnotesize Cannot filter file '\$srcFile' into '\$destFile'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
 WORKAROUND for \texttt{inkscape}
  filtering \texttt{eps\_tex}-file into \texttt{ptx} file:
  Either reading a line or writing a line failed. 
\end{minipage}
} \\
\end{longtable}
TBD: check whether workaround still necessary. 
TBD: complete list
TBD: add missing lists 


\section{Exceptions}\label{sec:exception}

Exceptions are thrown only if no substantial part of 
this maven-goal or this ant-task may be completed 
as if the tex source directory does not exist or is no directory 
or if a failure occurs which indicates 
that the underlying system does not work properly, 
as if the tex source directory or a sub-directory is not readable 
or if execution of an external program fails. 
The latter does not mean that the program returns with an error code, 
but it means that execution from within java fails.

\begin{longtable}{|ll|}
\toprule
Identifier        & Message  \\
\multicolumn2{|l|}{Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:TEX} The \texttt{BuildFailureException}s of the internal class
  CommandExecutorImpl }
  % TBD: find out why the above texttt does not show up in the text. 
\endlastfoot%
\texttt{\footnotesize TEX01} & \texttt{\footnotesize Error running \$command. }  \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
Compare with EEX01 in Table~\ref{tab:WarnCEI}: 
Error execution means 
%
\begin{itemize}
\item
the file expected to be the working directory 
does not exist or is not a directory. 
\item
method \texttt{Runtime.exec(String, String[], File)} fails % chktex 36
throwing an \texttt{IOException}. 
\item
an error inside systemOut parser occurs 
\item
an error inside systemErr parser occurs 
\item
Wrapping an \texttt{InterruptedException} 
on the process to be executed thrown by \texttt{Proces.waitFor()}. % chktex 36
\end{itemize}
%
whereas for EEX01 just a failure code is returned. 
\end{minipage}
} \\
\end{longtable}



\begin{longtable}{|ll|}
\toprule
Identifier        & Message  \\
\multicolumn2{|l|}{Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:TSS} The \texttt{BuildFailureException}s of Settings   }
\endlastfoot%
\texttt{\footnotesize TSS01} 
& \texttt{\footnotesize The tex source directory '\$texSrcDirectoryFile'} \\
& \texttt{\footnotesize should be an existing directory, but is not. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
The tex source directory is given in the pom/build-file 
with default value \texttt{./src/site/tex}. 
It contains or is \texttt{\$texSrcProcDirectoryFile}. 
Thus is must be a directory. 
\end{minipage}
} \\
\texttt{\footnotesize TSS02} 
& \texttt{\footnotesize The tex source processing directory '\$texSrcProcDirectoryFile'} \\
& \texttt{\footnotesize should be an existing directory, but is not. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
The tex source processing directory is given in the pom/build-file 
relative to \texttt{\$texSrcDirectoryFile}
with default value \texttt{.}. 
It contains all files to be processed. 
Thus is must be a directory. 
\end{minipage}
} \\
\texttt{\footnotesize TSS03}  & \texttt{\footnotesize The output directory '\$outputDirectory'} \\
& \texttt{\footnotesize should be a directory if it exists, but is not. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
The output directory is given in the pom/build-file 
with default value \texttt{./target/site/.}. 
The output directory is where the result of the goal/task 
are copied to. 
If it does not yet exist, it is created 
but if it exists and is a regular file, it cannot be created any more. 
\end{minipage}
} \\
\texttt{\footnotesize TSS04}  & \texttt{\footnotesize The target set '\$targets' } \\
& \texttt{\footnotesize should be a subset of the registered targets '...', but is not. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
The target set is given in the pom/build-file 
with default value \texttt{pdf, html}. 
A single target can be given on the command line
as e.g.~via \texttt{mvn latex:pdf} and also in this case,
the validity of the target is checked, so that e.g.~\texttt{mvn latex:invalid}
throws an exception, but the mechanism relies directly on mavens ability
to check the targets of this plugin. 
\end{minipage}
} \\
\texttt{\footnotesize TSS05}  & \texttt{\footnotesize The excluded converters '\$convertersExcluded' } \\
& \texttt{\footnotesize should form a subset of the registered converters '...'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
From the possible ``registered'' converters the ones not used may be excluded
to avoid that they cause errors when trying to check correctness of version in
target \texttt{vrs} accessed via \texttt{mvn latex:vrs}.
These converters may not even be installed. 
\end{minipage}
} \\
\texttt{\footnotesize TSS06}  & \texttt{\footnotesize Tried to use converter '\$convStr' } \\
& \texttt{\footnotesize although not among the registered converters '...' as expected. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
Only registered converters may be used. 
\end{minipage}
} \\
\texttt{\footnotesize TSS07}  & \texttt{\footnotesize Tried to use converter '\$convStr' } \\
& \texttt{\footnotesize although among the excluded converters '...'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
Among the registered converters only those may be used,
which are not excluded, i.e. listed in configuration in section \texttt{convertersExcluded}.
\end{minipage}
} \\
\texttt{\footnotesize TSS08}  & \texttt{\footnotesize Tried to use converter '\$convStr' } \\
 & \texttt{\footnotesize in configuration '...' instead of configuration '...'. } \\
 \multicolumn2{|l|}{
 \begin{minipage}{0.95\linewidth}
   Each converter may occur in a specified configuration only.
   So e.g. \texttt{pdflatex} is only allowed in configuration
   '\texttt{latex2pdfCommand}'.
   If used in configuration '\texttt{makeIndexCommand}' this causes this exception,
   because in that configuration, e.g \texttt{makeindex} is allowed. 
 \end{minipage}
 } \\
 \texttt{\footnotesize TSS09}  & \texttt{\footnotesize The diff directory '\$diffDirectoryFile' } \\
 & \texttt{\footnotesize should be a directory if it exists, but is not.  } \\
 \multicolumn2{|l|}{
 \begin{minipage}{0.95\linewidth}
   The \texttt{\$diffDirectoryFile} shall exist and be a directory. 
   In it shall be stored the artifacts the actually created shall be compared with 
   if \texttt{chkDiff} is set using the command \texttt{diffPdfCommand}. 
   As the name suggests, currently only pdf files are compared. 
 \end{minipage}
 } \\
\end{longtable}


\begin{longtable}{|ll|}
\toprule
Id.        & Message  \\
\multicolumn2{|l|}{Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:TMI} The \texttt{BuildFailureException}s of MetaInfo  }
\endlastfoot%
\texttt{\footnotesize TMI01} 
& \texttt{\footnotesize Cannot get stream to file '\$fileName'. }  \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
  Stream to file within jar.
  This may be the manifest file, pom.properties or git.properties. 
\end{minipage}
} \\
\texttt{\footnotesize TMI02} 
& \texttt{\footnotesize Cannot load properties from file '\$fileName'.  }  \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
  Provided the stream to the file is ok,
  could not load property.
  This may occur for pom.properties or git.properties. 
\end{minipage}
} \\
\texttt{\footnotesize TMI03} 
& \texttt
{\footnotesize IOException reading manifest. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
Provided the stream to the manifest file is ok, could not read completely.
\end{minipage}
} \\
\end{longtable}

\begin{longtable}{|ll|}
\toprule
Id.        & Message  \\
\multicolumn2{|l|}{Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:TFU} The BuildFailureExceptions of TexFileUtilsImpl  }
\endlastfoot%
\texttt{\footnotesize TFU01} 
& \texttt{\footnotesize Cannot create destination directory '\$targetDir'. }  \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
This is mainly because of writing permissions. 
\end{minipage}
} \\
\texttt{\footnotesize TFU04} 
& \texttt{\footnotesize Cannot overwrite directory '\$destFile'. }  \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
Because this plugin shall not turn directories into regular files 
and vice versa. 
This failure indicates that another plugin/task disturbs this one. 
\end{minipage}
} \\
\texttt{\footnotesize TFU06} 
& \texttt
{\footnotesize Cannot copy file '\$srcFileName' to directory '\$targetDir'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
This is mainly because of writing permissions. 
\end{minipage}
} \\
\end{longtable}

\begin{longtable}{|ll|}
  \toprule
  Id.        & Message  \\
  \multicolumn2{|l|}{Explanation }  \\
  \midrule
  \midrule
  \endfirsthead%
  \bottomrule
  \caption{\label{tab:TLP} The BuildFailureExceptions of LatexProcessor  }
  \endlastfoot%
  \texttt{\footnotesize TLP01} 
  & \texttt{\footnotesize Artifact '\$pdfFileAct' of '\$texFile' could not be reproduced. }  \\
  \multicolumn2{|l|}{
  \begin{minipage}{0.95\linewidth}
  Processing \$texFile' yields \$pdfFileAct which is not ``alike'' the stored version. 
  Currently, that kind of check can be performed for \texttt{pdf} files only. 
  Also the diff check is executed only if parameter \$chkDiff is set. 
  Then the diff command \$diffPdfCommand is performed to determine whether the artifacts are equivalent
  in the sense given by the diff command. 
  The concrete meaning of that equivalence 
  may range from strict equivalence to some kind of visual equivalence. 
  \end{minipage}
  }
  \end{longtable}
  
  



FIXME\@: to be added. 


\section{Logging of Warnings and Errors}\label{sec:logWarnErr}

The rules for logging warnings and errors is, 
that the user must be notified, 
if something went wrong but the run is not aborted, 
by a warning or an error. 
It is not required that for each detail going wrong, 
there is a separate notification, 
but the user must be sure, that all is ok, 
if no warning and no error occurs. 

To decide whether it is an error or a warning to be logged, 
one has to distinguish, 
whether the problem occurs when running an external application 
or within internal code. 
In the first case, the decision whether it is an error or a warning 
is left to that application: 
%
\begin{itemize}
\item 
If the application returns an error code other than 0, 
it is an error. 
\item
If the application is expected to write a log file 
but none is found, it is an error. 
The applications used here, 
return a nontrivial error code if no log file is written. 
\item
The applications used here, writing a log file 
distinguish between error and warning. 
If a log file is written both are logged in the log file 
and can be distinguished by the form of the entry via pattern matching. 
If no error occurs, the return code is 0, even if warnings occur. 
\item
If an application writes at least one error into the log file, 
this software logs an error. 
\item
If an application writes no error into the log file 
but at least one warning, principally this software logs a warning. 
There may be parameters to switch off warnings partially 
or all of them, 
but there must be also a configuration of parameter values 
that allow logging all warnings. 
\end{itemize}

If an application does not create the expected output file, 
this software logs an error. 
This may be because of an internal error as described above, 
but also because of wrong parameters. 
So, e.g.~\texttt{pdflatex -v xxx.tex} does not create a pdf-file as expected. 


\begin{longtable}{|ll|}
\toprule
\small Id.        & \small Message  \\
\multicolumn2{|l|}{\small Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:WarnALP} The errors and warnings on running a command  }
\endlastfoot%
\texttt{\footnotesize EEX01} & \texttt{\footnotesize Running \$command 
			    failed with return code \$returnCode. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
Compare with TEX01 in Table~\ref{tab:TEX}: 
Error execution means that there is even no valid return code. 
% Variables: 
% %
% \begin{itemize}
% \item \texttt{\$command}: The command executed. 
% \item \texttt{\$returnCode}: The failure code which is not $0$ in this case. 
% \end{itemize}
\end{minipage}
} \\
\texttt{\footnotesize EEX02} & \texttt{\footnotesize Running \$command failed: 
			  No target file '\$fileName' written. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize EEX03} 
& \texttt{\footnotesize Running \$command failed: 
Target file '\$fileName' is not updated. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
The command \texttt{\$command} is expected 
to write to the file '\texttt{\$fileName}' but this file is not updated. 
This indicates an error executing \texttt{\$command}. 
\end{minipage}
} \\
\texttt{\footnotesize WEX04} 
& \texttt
{\footnotesize Cannot read target file '\$fileName'; may be outdated. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize WEX05} 
& \texttt{\footnotesize Update control may emit false warnings. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize EAP02} & \texttt{\footnotesize Running \$command failed: 
No log file '\$logFileName' written. }  \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
The command \texttt{\$command} is expected 
to write a log file '\texttt{\$logFileName}' but no such file exists. 
This indicates an error executing \texttt{\$command}. 
\end{minipage}
} \\
\texttt{\footnotesize EAP01}  & \texttt{\footnotesize Running \$command failed. 
Errors logged in '\$logFileName'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
The command \texttt{\$command} logged at least one error 
in the file '\texttt{\$logFileName}', 
where more details can be found. 
\end{minipage}
} \\
\texttt{\footnotesize WAP03} 
& \texttt{\footnotesize Running \$command emitted warnings 
logged in '\$logFileName'. }  \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
The command \texttt{\$command} logged at least one warning 
in the file '\texttt{\$logFileName}', 
where more details can be found. 
Note that if \texttt{\$command} is a latex processor, 
this warning comes only iff the parameter \texttt{\$debugWarnings} is set. 
Note also that notifications on bad boxes are not counted as warnings here. 
\end{minipage}
} \\
\texttt{\footnotesize WLP03} 
& \texttt{\footnotesize Running \$command created bad boxes 
logged in '\$logFileName'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
Here, \texttt{\$command} is a latex processor. 
It logged at least one bad box, 
overfull or underfull, horizontal or vertical 
in \texttt{\$logFileName} where more details can be found. 
Note that 
this warning comes only iff the parameter \texttt{\$debugBadBoxes} is set. 
\end{minipage}
} \\
\texttt{\footnotesize WLP06} 
& \texttt{\footnotesize Running \$command 
found issues logged in '\$logFileName'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
Here, \texttt{\$command} is a checker tool. 
Strictly speaking, unlike the other warnings here, 
this does not signify that running \texttt{\$command} went wrong 
but uncovered an issue (warning/error/message) logged in a file. 
\end{minipage}
} \\
\texttt{\footnotesize WLP05} 
& \texttt{\footnotesize Use package 'splitidx' 
without option 'split' in '\$texFileName'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
This indicates that an extended idx-file ``\texttt{xxx-yy.idx}'' 
has been found without \texttt{xxx.idx} or without according entry 
\texttt{\textbackslash indexentry[yy]\{\dots\}\{\dots\}} 
in \texttt{xxx.idx}. 
\end{minipage}
} \\
\end{longtable}


\begin{longtable}{|ll|}
\toprule
Id.        & Message  \\
\multicolumn2{|l|}{Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:WarnCEI} The errors and warnings on files/streams  }
\endlastfoot%
\texttt{\footnotesize WFU01} 
& \texttt{\footnotesize Cannot read directory '\$dir'; 
build may be incomplete. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize WPP02} 
& \texttt{\footnotesize Cannot read tex file '\$texFile'; 
may bear latex main file. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize WAP04} 
& \texttt{\footnotesize Cannot read log file '\$logFileName'; 
  may hide warnings/errors. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize WLP02} 
& \texttt{\footnotesize Cannot read log file '\$logFileName'; 
  \$kind may require rerun. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize WLP04} 
& \texttt{\footnotesize Cannot read idx file '\$idxFileName'; 
skip creation of index. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize WFU03} 
& \texttt{\footnotesize Cannot close '\$closeable'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize EFU05} 
& \texttt{\footnotesize Cannot delete file '\$delFile'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}

\end{minipage}
} \\
\texttt{\footnotesize EFU06} 
& \texttt{\footnotesize Cannot move file '\$fromFile' to '\$toFile'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\end{longtable}


\begin{longtable}{|ll|}
\toprule
Id.        & Message  \\
\multicolumn2{|l|}{Explanation }  \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:WarnLPP} Miscellaneous errors and warnings  }
\endlastfoot%
\texttt{\footnotesize WPP03} 
& \texttt{\footnotesize Skipped processing of files with suffixes \$skipped. }\\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize WPP04} 
& \texttt{\footnotesize Skip processing '\$srcFile': 
  interpreted as target of '\$lmFile'. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\texttt{\footnotesize WLP01} 
& \texttt{\footnotesize LaTeX requires rerun 
but maximum number \$maxNumRerunsLatex reached. } \\
\multicolumn2{|l|}{
\begin{minipage}{0.95\linewidth}
FIXME
\end{minipage}
} \\
\end{longtable}








%\begin{longtable}
  
%\end{longtable}

FIXME\@: to be added. 

\chapter{Listings}\label{chap:listings}% maybe appendix?


First we list the versions of the executables
which are run to create this manual.
They are given in \url{../../main/resources/version.properties}

\lstinputlisting[language=xml, basicstyle=\scriptsize,
%irstline=220, lastline=1108,
breaklines,
%float,
captionpos=b, label={lst:versionsExec},
caption={The versions of the executables potentially used}]
{../../main/resources/version.properties}% chktex 11 


Next we provide listings of the configuration 
in the \texttt{pom.xml} for the maven-plugin 
and in the \texttt{build.xml} for the ant-task. 
The listing of the \texttt{build.xml} shows 
which parameters are attributes and which ones are text elements. 
In \texttt{pom.xml} only text elements occur. 


The maven-plugin described here, 
requires the definition in \texttt{pom.xml}
given by Listing~\ref{lst:fullConfig} on page~\pageref{lst:fullConfig}. 

%\lstset{language=xml, basicstyle=\scriptsize}
% FIXME\@: nag complains for htlatex 
\lstinputlisting[language=xml, basicstyle=\scriptsize,
firstline=32, lastline=991, 
breaklines, showstringspaces=false,
%float,
captionpos=b, label={lst:fullConfig},
caption={The full configuration and executions of this maven plugin}]
{../../main/resources/rawPoms/pom4pdf.xml}% chktex 11 

It has to be placed in the build element where below dots are given. 

\begin{lstlisting}[language=xml]
  <build>
    <plugins>
      ...
    </plugins>
  </build>
\end{lstlisting}


The ant-task described here 
requires the target and task definitions in \texttt{build.xml}
given by Listing~\ref{lst:fullConfigAnt}. 

%\lstset{language=xml, basicstyle=\scriptsize}
% FIXME\@: nag complains for htlatex 
\lstinputlisting[language=xml, basicstyle=\scriptsize,
breaklines,
%float,
captionpos=b, label={lst:fullConfigAnt},
caption={The definition of this ant task and target}]
{../../../build.xml}% chktex 11 



\chapter{Gaps}\label{chap:gaps}

Only figures created with xfig and stored as files pdf and ptx 
may be integrated into a \LaTeX{} document. 
This could be extended to a broader variety of export file formats. 
The problem is, that fig-files to not contain information on the export
format. 
This has to be either given elsewhere in a config file 
or determined by pre-parsing the tex-files. 

There is no support for pictures in \gls{gif}-format 
but maybe a converter to \gls{png} is all needed. 

There is no proper make-mechanism taking dependencies into account. 
Thus all documents in all formats specified are remade, 
whether they changed or not. 

Also, if more than one target is created from one \LaTeX{} source, 
common steps are redone for each target. 
E.g.~if pdf and html are created, 
pdf creation is done twice and if pdf, html, odt and docx are created, 
odt is done twice (once for odt second for docx) 
and pdf is done even trice: 
once for pdf itself, once for odt and once for docx. 

% This has to be removed. 
Creating more than one index is supported only 
via package \pkg{splitidx} in conjunction with \texttt{SplitIndex}. 
There are the following packages also supporting multiple indices 
but not supported officially: 
\pkg{index} described in~\cite{IndexP}, 
\pkg{amsmidx} described in~\cite{AmsmidxP} and 
\pkg{imakeidx} described in~\cite{ImakeidxP}.
Note that the package \pkg{multind} is obsolete. 

According to~\cite{GloP}, Section~1, 
there are three options to create a glossary, 
whereas this software supports option two only, 
which uses \texttt{makeindex}. 
Also, although the package \pkg{glossaries} itself 
supports multiple glossaries via the command
%
\begin{lstlisting}[language=TeX, basicstyle=\small]
\newglossary[log-ext]{name}{in-ext}{out-ext}{title}[counter]
\end{lstlisting}
%
described in~\cite{GloP}, Section~12, 
this software only supports creating a single glossary. 

Reading~\cite{GloP}, Section~15.1, the glossarystyle \texttt{index} 
seems to allow creating indices through the \pkg{glossaries} package 
making any index-package obsolete. 

For development given the \LaTeX{} main file \texttt{xxx.tex}, 
the files \texttt{xxx.pdf}, \texttt{xxx.pdf}, \texttt{xxx.synctex.gz} 
and \texttt{xxx.log} are vital. 
Thus it would be fine to have a goal which touches these files 
or to have a parameter to touch these prior to creation 
to avoid that these are cleaned up after the run. 
This is an alternative to setting parameter \texttt{cleanup} to \texttt{false}. 
On the other hand, goal \texttt{grp} creating graphics 
in conjunction with a development tool like \texttt{auctex} for \texttt{emacs}, 
allows to compile a latex main file in that tool 
and thus to access \texttt{xxx.log} and \texttt{xxx.pdf}. 

There are lots of possible improvements to be done on the goal {\em check}. 


The ant-task does not allow to create single formats, e.g.~pdf selectively. 

The ant-build is not completed: tests are not run and 
test runs are no prerequisite for installation. 

This manual is not finished. 
To test the overall functionality of the maven-plugin and of the ant-task 
described here, this manual is created through plugin and task. 

Support for djvu via pdf2djvu: 
pdf2djvu -o output\_file input\_file

pdf2dsc
(ps with document structuring convention) 

pdf2svg is not so useful. 

pdftohtml -c is also not bad, 

consider also pdftocairo for creation of tiff and ps and many others. 

\chapter{Bugs}\label{chap:bugs}

Seemingly, indices and glossaries based on page numbers 
(there seems to be an alternative to this), 
may be out of date with the current algorithm: 
First \texttt{pdflatex} is run to create the raw index. 
Then a sorting program like \texttt{makeindex} is called 
which creates the sorted, collected and formatted index. 
Then one \texttt{pdflatex} run is required to include this index 
into the created pdf-file. 
A second \texttt{pdflatex} run is required 
to write the index to the table of contents, as typically required. 
The problem with this procedure is, 
that the subsequent runs of \texttt{pdflatex} change the raw index 
which requires rerunning \texttt{makeindex} 
and after that again \texttt{pdflatex}. 

One way to solve that problem is to use the package \pkg{imakeidx} 
(improved makeidx) instead of the traditional package \pkg{makeidx}. 
This offers also multiple indices, which is another gap to be filled. 
Seemingly, \pkg{imakeidx} does not support glossaries 
and so for these, another solution is required, 
although the problem is the same. 

Packages \pkg{robustindex} and \pkg{robustglossaries} 
% **** reference? 
offer another solution. 
The advantage would be to have handled both index and glossary. 
Also support of hyperrefs within indices and glossaries seem to be expanded. 
On the other hand, the two packages seem experimental 
and seem to to play with package \pkg{hyperref}. 

The current implementation is based on package \pkg{rerunfilecheck} 
which works for index but not for glossary. 

Check whether \pkg{glossaries} option \texttt{autorun} makes sense. 
Seems to run the command \texttt{makeglossaries} after each latex run. 
But how to find out whether to rerun latex??? 

Pattern to identify latex main file: 
Documentation: shall not include the environment 
\texttt{documentclass/documentstyle} in an input. 
Also check \texttt{RequiresPackage} 
and check whether \texttt{(re)newcommand} is possible % chktex 36
or makes sense. 

Maybe there is a bug in the number of reruns: 
I think, makeglossaries is like bibtex needing two latex reruns 
and not like makeindex, which requires a single rerun. 

Since this software heavily relies on \pkg{rerunfilecheck}, 
maybe a warning if not used is a good idea. 

Figures are missing in html output 
Formulae are missing in html output. 
Index is s missing in html output. 
Glossary occurs in the toc but is not numbered. 

Did not find a way to add a numbered entry for the glossary 
into the table of contents. 

The pattern \texttt{(!\ )} detects an error only % chktex 37
\texttt{-no-file-line-error} (which is the default) is set 
but does not work with option \texttt{-file-line-error}. 
This yields 
%
\begin{verbatim}
./manualLatexMavenPlugin.tex:2500: Undefined control sequence.
l.2500 \bla
\end{verbatim}
%
instead of 
%
\begin{verbatim}
! Undefined control sequence.
l.2500 \bla
\end{verbatim}

I ask myself how to detect this error in file line error mode! 

%\bla

Pattern matching is line-wise. 
This is inappropriate for patternLatexMainFile 
but also for further patterns like multiline-warnings. 

Also there seems to be a bug in java's regex package, 
which leads to non-termination: 
pattern \texttt{\~(\textbackslash s*)*xx} seems not to terminate. % chktex 1

A problem is also that the ending ``\texttt{.svg}'' may occur as a source 
and as a target file of htlatex. 
Thus \texttt{mvn latex:clr} tries to delete the targets of the svg-files, 
although these are not sources but themselves targets. 

A way to solve this problem is, 
to apply the delete pattern to graphic source files 
and the files created. 
CAUTION\@: for svg, 
the files created by the latex run shall be taken into account. 
A warning shall be issued for each matching. 


Target html: references to figures are missing. 
jpg and png-pictures oddly represented. 
With option svg: problem. 
Leave away, then at least the formula occurs. 
But then, from the mixed pictures only the text occur, 
whereas the pdf is still missing. 
Maybe htlatex still relies on eps-format. 
Table is very wide. 
Umlauts and sz maybe also not properly represented. 

Still for target html: currently all aspects making problems 
are deactivated: 
Figures, index and glossary. 
For the index have a look at the log-file. 
These aspects must be re-integrated as soon as possible. 

For html: run package tex4ht with option \texttt{info} 
to obtain further options and their descriptions. 
Also add a proper description into this manual. 

For files \texttt{.directory} (``\texttt{.}'' first), 
the separation of root and suffix does not work. 
Maybe the best to ignore files like that. 

Target \texttt{txt}: seems as if index and glossary not up to date. 

target \texttt{pdf}: Idea to run \texttt{makeglossaries} 
always prior to pdflatex. 

Maybe this is more a gap than a bug: 
support for dvi-creation should be provided separately. 

For target dvi, 
neither png nor jpg-pictures are included. 
The other formats work with \texttt{\$pdfViaDvi} set. 
Note that the postscript-files must be in the same directory 
as the dvi, probably because it includes them 
only by link. 

For the other case, \texttt{\$pdfViaDvi} unset, this requires some research. 

Also for creation of the txt-format, 
\texttt{\$pdfViaDvi} must be set. 

FIXME\@: on bibliography, index and glossary 

The application \texttt{chktex} does not necessarily return an error code 
if something goes wrong, e.g.~reading \texttt{-l chktexrc}. 
Thus only in debug mode one can recognize the misbehavior. 
This knocks out detection of build failures. 

Also I would like to replace the global \texttt{chktexrc} by a local version, 
via `\texttt{-g0 -l chktexrc.my}'. 
The problem is, 
that the file is interpreted relative to the working directory. 

The application chtex has an option \texttt{-I} to specify, 
whether input files shall be read. 
If not, creation of graphics is immaterial. 
I can also imagine, that one wants to configure, 
whether graphics shall be created or not. 

It may make sense to define in \texttt{chktexrc} another verbosity level 
with format allowing to decide whether there is a warning/error/message. 
Now I modified the levels that all but the headlines start with blank. 
This makes it easy in -v1 and in -v2 to detect warning/error/message 
at the beginning of a line, 
without the risk of false error because a message is logged 
on a text starting with the word ``error''. 


Maybe this is not a bug 
but an inconsistency between auctex and local config: 
Running with the plugin, we obtain 
%
\begin{Verbatim}[fontsize=\tiny]
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2014) (preloaded format=pdflatex 2014.8.9)  30 JAN 2017 10:58
entering extended mode
 \write18 enabled.
 Source specials enabled.
 %&-line parsing enabled.
**test.tex
(./test.tex
\end{Verbatim}
%
whereas running from within Emacs with auctex we obtain 
%
\begin{Verbatim}[fontsize=\tiny]
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2014) (preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode
\end{Verbatim}
%
and also the behavior is slightly different, 
e.g. on file 
% TBD: clarify why this does not work with lstlisting...
\begin{verbatim}
\documentclass{article}
\begin{document}
 äö¿
\end{document}
\end{verbatim}

The parameter \texttt{patternReRunLatex} 
treated in Section~\ref{subsec:patternReRunLatex} 
needs more careful investigation. 
This is done a little bit in class \texttt{org.m2latex.core.Settings}.  


\chapter{Tests}\label{chap:tests}

FIXME\@: this chapter describes the tests to be performed. 

Missing are tests on logging, tests on various input formats, 
output formats, tests including several paths 
defined by invocation of auxiliary applications for index, glossary, \dots 

\bibliographystyle{alpha}
\bibliography{lit}{}

\ifthenelse{\boolean{texFhtLoaded}}{
  % no index and no glossaries with tex4ht 
}{
%\chapter{Indices}
  \printindex[idx]
  \printindex[pkg]
  \printglossaries%
}


%  "-src-specials -shell-escape -recorder" 
\end{document}

