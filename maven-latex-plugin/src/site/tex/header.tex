% !TEX root = manualLMP.tex
\listfiles
\synctex=1

\usepackage{etoolbox}%for buildParams to check empty
\usepackage{newverbs}

% provdies \ifPDFTeX, \ifXeTeX and \ifLuaTeX. 
% iftutex test is true for XeTeX and LuaTeX, 
% and an ifpdf test is provided to test the PDF or DVI output mode.
\usepackage{iftex}
\usepackage{ifthen}

\iftutex%
\usepackage{fontspec}
\else
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\fi
%\usepackage{textalpha}

\newboolean{texFhtLoaded}
\setboolean{texFhtLoaded}{false}

% only with pdflatex, warnings for xelatex and for lualatex 
% ifxetex, ifluatex, ifpdf
\ifpdf%
%\usepackage{mlmodern}
\else
\makeatletter
\@ifpackageloaded{tex4ht}{%
  \setboolean{texFhtLoaded}{true}
}{%
}% tex4ht not loaded 
\makeatother
\fi


\usepackage[a4paper, showframe]{geometry}% option , showframe
%\usepackage{showframe} as an alternative 
\usepackage{microtype}
\usepackage{textcomp}
%\usepackage{anyfontsize}
%\usepackage{cleveref}


% used by hyperref and also to update index and glossary 
% to avoid clash because of loading with different options: 
% declare first 
\usepackage[aux]{rerunfilecheck}

% graphics 

\ifpdf%
\usepackage{xcolor}  % [pdftex]  
\usepackage{graphicx}% [pdftex] 
\usepackage{hyperref}% driver [hpdftex] is autodetected 
\usepackage{transparent}% sometimes comes in with svg import 
% warning transparent package: loading aborted if not pdf-mode 
\else
\usepackage[dvipdfmx]{xcolor}
\usepackage[dvipdfmx]{graphicx}
\ifthenelse{\boolean{texFhtLoaded}}{%
  % \usepackage[tex4ht]{hyperref}
\newcommand{\url}[1]{\texttt{#1}}% not active, replacement for hyperref
\newcommand{\href}[2]{\texttt{#2}}% not active, replacement for hyperref
}{%
\ifxetex%
\usepackage{hyperref}
\else
  \usepackage[dvipdfmx]{hyperref}%[dvipdfmx]
\fi
}% tex4ht not loaded 

%\usepackage{bmpsize}% not for xelatex 
\fi

\ifluatex%
  \usepackage{luamplib}
  \newcommand*\inputmpcode[1]{\begin{mplibcode}input #1\end{mplibcode}}
\else
\fi

% \@ifpackageloaded{tex4ht}{%
% \usepackage[dvipdfmx]{xcolor}
% \usepackage[dvipdfmx]{graphicx}
% \usepackage[tex4ht]{hyperref}
% \usepackage{bmpsize}
% }{%
% \usepackage{xcolor}  % [pdftex]  
% \usepackage{graphicx}% [pdftex] 
% \usepackage{hyperref}% driver [hpdftex] is autodetected 
% }


%\usepackage[clear,pdf,eps]{svg}

\usepackage{import}
\usepackage{amsmath}

% synchronization between tex and pdf 
%\usepackage[active]{srcltx}
\usepackage{longtable}
\usepackage{listings}
% this is a workaround for including listings with latexmk.. 
% This can be fixed 
% - as shown below 
% - patch in package listings 
% - patch in latexmk 
% I would prefer the latter. 
\usepackage{xpatch}
\makeatletter
\newcommand*{\NewLine}{^^J}%
\xpatchcmd{\lst@MissingFileError}
{Package Listings Error: File `#1(.#2)' not found.}
{LaTeX Error: File `#1.#2' not found.\NewLine}{%
  \typeout{File ending patch for \string\lst@MissingFileError\space done.}%
}{%
  \typeout{File ending patch for \string\lst@MissingFileError\space failed.}%
}
\makeatother

\usepackage{fancyvrb}


% index and glossary
\ifthenelse{\boolean{texFhtLoaded}}{%
\newcommand{\pkg}[1]{\texttt{#1}}% without indexing 
}{
  \usepackage{splitidx}%[split]
%  \usepackage{makeidx}
%  \usepackage{showidx}
  \makeindex
  \usepackage[toc]{glossaries}%,automake
  % , xindy or even [xindy={language=english,codepage=utf8}]
  % mainly for index and glossaries 
  %\makeglossaries% TBD: activate later
  \newcommand{\pkg}[1]{\texttt{#1}\sindex[pkg]{#1}}
  }

\usepackage{booktabs}
\aboverulesep=0ex
\belowrulesep=0ex

%\makeglossary% for rerunfilecheck 

%\usepackage{etexcmds} %still later 

\newcommand{\cmd}[1]{\texttt{\textbackslash#1}}

\newcommand{\pdflatex}{\texttt{pdflatex}}
\newcommand{\lualatex}{\texttt{lualatex}}
\newcommand{\xelatex}{\texttt{xelatex}}


\newcommand{\texlive}{\TeX~Live}
\newcommand{\miktex}{MiKTeX}



