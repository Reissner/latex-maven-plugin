\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[a4paper]{article}%scrartcl [12pt, a4paper]

\input{../header.tex}
\input{../headerSuppressMetaPDF.tex}

\hypersetup{
  pdfinfo={
    Author      ={Ernst Reissner},
    Title       ={Special and common aspects of pdf/dvi/xdvi generators },
    Subject     ={pdf/dvi/xdvi generators},
    Keywords    ={LaTeX;pdflatex;xelatex;lualatex}
  }
}

\title{Special and common aspects of pdf/dvi/xdvi generators }
\author{Ernst Reissner (rei3ner@arcor.de)}
\date{}

\newcommand{\pdflatex}{\texttt{pdflatex}}
\newcommand{\lualatex}{\texttt{lualatex}}
\newcommand{\xelatex}{\texttt{xelatex}}


\newcommand{\texlive}{\TeX~Live}
\newcommand{\miktex}{MiKTeX}

\begin{document}

\maketitle
\tableofcontents
%\listoffigures
\listoftables
%\lstlistoflistings%

\section{Introduction}

This document is created with \lualatex{} or that like 
with output format 
\ifpdf%
PDF%
\else
DVI% TBD: take XDV into account also 
\fi.
The package \texttt{tex4ht} 
is \IfPackageLoadedTF{tex4ht}{}{not} loaded. 

This document is about features the three generators on latex, 
\pdflatex, \lualatex{} and \xelatex{} have in common 
and discusses also aspects under which they are specific. 
These programs are just underlying tex engines preloading the the \LaTeX{} format. 
The names of the underlying engines just drop the inner sylable ``\texttt{la}''. 
For \texttt{pdftex} there is a user manual~\cite{PdfTexUsr}, 
for \texttt{luatex} there is a reference manual~\cite{LuaTexRef} and 
for \texttt{xetex} a reference guide~\cite{XeTexRef}. 

The first aspect we cover are the options (among those to display the version). 
It turns out, that the options are specific for the distribution. 
Besides \texlive{} there is a second important distribution, \miktex, 
which should also be treated. 





We treat the options for \texlive{} in Section~\ref{sec:optionsTexlive} 
and for \miktex{} in Section~\ref{sec:optionsMiktex}. 

\section{The options for \texlive}\label{sec:optionsTexlive}


Note that in fact we use a variant of \texttt{luatex}, called \texttt{luahbtex}. 

This document is valid for versions of the underlying tex engine 
as given in Table~\ref{tab:versions}. 
Moreover, our research refers to a specific distribution, \texlive. 


\begin{longtable}{|ll|}
  \toprule
  converter & version \\
  \midrule
  \midrule
  \endfirsthead%
  \bottomrule
  \caption{\label{tab:versions} Converters and the version this document refers to }
  \endlastfoot%
  \pdflatex{}  & \texttt{pdfTeX 3.141592653-2.6-1.40.24} \\% chktex 8
  \xelatex{}   & \texttt{XeTeX 3.141592653-2.6-0.999994} \\% chktex 8
  \lualatex{}  & \texttt{LuaHBTeX, Version 1.15.0} \\
\end{longtable}


We start with a synopsis of the options. 
Table~\ref{tab:latexOptionsCommonTexlive} 
shows options of the converters under consideration. 
Note that in contrast to the other converters, 
\lualatex{} defines options starting with \texttt{-{}-} 
but it can also process the options if given with a single dash also. 
Conversely, converters other than \lualatex{} can also deal with options 
starting with single dash. 
Options unknown to a converter never result in an error or even a warning; 
instead just a info message is displayed. 
This allows to create a configuration which works for all converters. 

In Table~\ref{tab:latexOptionsCommonTexlive} column ``included'', 
each converter is represented by the starting letter of its name, 
so for each option it is known which converters know about it 
an conversely, which options each converter has. 

The table allows to furnish configurations working for all converters. 
Some options are common to all converters


{\footnotesize
\begin{longtable}{|lllll|}
\toprule
option & \multicolumn{3}{l}{included} & explanation \\
\midrule
\midrule
\endfirsthead%
\bottomrule
\caption{\label{tab:latexOptionsCommonTexlive} Options of \TeX{} engines in \texlive}
\endlastfoot%
\texttt{(-)-cnf-line=STRING}       & p&x&l & parse \texttt{STRING} as a configuration file line \\
\texttt{-{}-credits}               & -&-&l & Display credits and exit. \\
\texttt{-{}-debug-format}          & -&-&l & enable format debugging \\
\texttt{(-)-draftmode}             & p&-&l & switch on draft mode (generates no output PDF) \\
\texttt{-enc}                      & p&-&- & Enable encTeX extensions such as \texttt{\textbackslash{}mubyte} \\
\texttt{-etex}                     & p&x&- & enable e-TeX extensions \\
\texttt{(-)-[no-]file-line-error}  & p&x&l & disable/enable file:line:error style messages \\
\texttt{-{}-[no-]file-line-error-style} & -&-&l& aliases of \texttt{-{}-[no-]file-line-error} \\
\texttt{-fmt=FMTNAME}              & p&x&l & use FMTNAME instead of program name or a \%\& line\footnote%
{in fact for \lualatex{} the explanation deviates a bit: \texttt%
{-{}-fmt=FORMAT\@: load the format file FORMAT}} \\
\texttt{(-)-ini}                   & p&x&l & for dumping formats \\
\texttt{-ipc}                      & p&-&- & send DVI output to a socket \\
                                   &  & &  & as well as the usual output file \\
\texttt{-ipc-start}                & p&-&- & as \texttt{-ipc}, and also start the server at the other end \\
\texttt{(-)-halt-on-error}         & p&x&l & stop processing at the first error \\
\texttt{(-)-help}                  & p&x&l & display this help and exit \\
\texttt{(-)-version}               & p&x&l & output version information and exit \\
\texttt{-8bit}                     & p&x&- & make all characters printable by default\footnote%
{for \xelatex: don't use \^{}\^{}X sequences} \\
\texttt{(-)-interaction=STRING}    & p&x&l & set interaction mode \\
                                   &  & &  & (\texttt{STRING=batchmode/nonstopmode/} \\
                                   &  & &  &  \texttt{scrollmode/errorstopmode}) \\
\texttt{(-)-jobname=STRING}        & p&x&l & set the job name to \texttt{STRING} \\
\texttt{(-)-kpathsea-debug=NUMBER} & p&x&l & set path searching debugging flags \\
                                   &  & &  & according to the bits of \texttt{NUMBER} \\
\texttt{-{}-lua=FILE}              & -&-&l & Load and execute a lua initialization script. \\
\texttt{-{}-luaonly}               & -&-&l & run a lua file, then exit \\
\texttt{-{}-luaconly}              & -&-&l & byte-compile a lua file, then exit \\
\texttt{-{}-luahashchars}          & -&-&l & the bits used by current Lua interpreter for strings hashing \\
 \texttt{(-)-[no-]mktex=FMT}       & p&x&l & disable/enable mktexFMT generation\footnote%
{\texttt{(FMT=tex/tfm/pk)} for \pdflatex; else \texttt{(FMT=tex/tfm)}} \\
\texttt{-mltex}                    & p&x&- & enable MLTeX extensions such as \texttt{\textbackslash{}charsubdef} \\
\texttt{-no-pdf}                   & -&x&- & generate XDV (extended DVI) output rather than PDF \\
\texttt{-{}-nosocket}              & -&-&l & Disable the Lua socket library. \\
\texttt{(-)-output-comment=STRING} & p&x&l & use STRING for DVI file comment instead of date \\
                                   &  & &  & (no effect for PDF)\footnote%
{For \xelatex{} it is XDV instead of DVI and the remark \texttt{(no effect for PDF)} is missing} \\
\texttt{(-)-output-directory=DIR}  & p&x&l & use existing DIR as the directory to write files in \\
\texttt{(-)-output-format=FORMAT}  & p&-&l & use \texttt{FORMAT} for job output; \texttt{FORMAT} is `dvi' or `pdf'\footnote%
{\xelatex{} offers option \texttt{-no-pdf} instead. } \\
\texttt{-output-driver=CMD}        & -&x&- & use \texttt{CMD} as the XDV-to-PDF driver instead of \texttt{xdvipdfmx} \\
\texttt{-papersize=STRING}         & -&x&- & set PDF media size to \texttt{STRING} \\        
\texttt{-[no-]parse-first-line}    & p&x&- & disable/enable parsing of first line of input file \\
\texttt{(-)-progname=STRING}       & p&x&l & set program (and fmt) name to \texttt{STRING}\footnote%
{\lualatex{} does not mention \texttt{(and fmt)}} \\
\texttt{(-)-recorder}              & p&x&l & enable filename recorder \\
\texttt{-{}-safer}                 & -&-&l & Disable easily exploitable Lua commands. \\
\texttt{(-)-[no-]shell-escape}     & p&x&l & disable/enable \texttt{\textbackslash{}write18{SHELL COMMAND}}\footnote%
{For \lualatex{} the explanation is \texttt{disable/enable system commands}} \\
\texttt{(-)-shell-restricted}      & p&x&l & enable restricted \texttt{\textbackslash{}write18}\footnote%
{For \lualatex{} the explanation is \texttt{restrict system commands to a list of commands given in texmf.cnf}} \\
\texttt{-src-specials}             & p&x&- & insert source specials into the DVI file \\
\texttt{-src-specials=WHERE}       & p&x&- & insert source specials in certain places of \\
                                   &  & &  & the DVI/XDV\footnote{DVI for \pdflatex; XDV for \xelatex} file. \\
\texttt{(-)-synctex=NUMBER}        & p&x&l & generate SyncTeX data for previewers\footnote%
{Explanation differs for \lualatex} \\ 
\texttt{-translate-file=TCXNAME}   & p& &  & use the TCX file \texttt{TCXNAME}\footnote%
{TCX means \TeX{} character translation} \\
\texttt{-{}-utc}                   &  & &l & Init time to UTC \\
\end{longtable}
} %\small





pdflatex: 

\begin{verbatim}
Usage: pdftex [OPTION]... [TEXNAME[.tex]] [COMMANDS]
   or: pdftex [OPTION]... \FIRST-LINE
   or: pdftex [OPTION]... &FMT ARGS
  Run pdfTeX on TEXNAME, usually creating TEXNAME.pdf.
  Any remaining COMMANDS are processed as pdfTeX input, after TEXNAME is read.
  If the first line of TEXNAME is %&FMT, and FMT is an existing .fmt file,
  use it.  Else use `NAME.fmt', where NAME is the program invocation name,
  most commonly `pdftex'.

  Alternatively, if the first non-option argument begins with a backslash,
  interpret all non-option arguments as a line of pdfTeX input.

  Alternatively, if the first non-option argument begins with a &, the
  next word is taken as the FMT to read, overriding all else.  Any
  remaining arguments are processed as above.

  If no arguments or options are specified, prompt for input.
\end{verbatim}





\section{The options for \miktex}\label{sec:optionsMiktex}

Since at the time of this writing, the author has no \miktex{} at hand, 
the results for \miktex{} are based on documentation, rather than experimentation. 
The three engines are a bit different, also in their names. 


Well this section is preliminary only. 
It turned out that Section~\ref{sec:optionsTexlive} is valid only for distribution \texlive. 
So in this section we venture to find out the options for the other big distribution, 
\miktex. 
We shall also investigate whether there are further distributions. 

Whereas the description~\cite{Texlive} seems not to mention the options explicitly, 
the \miktex{} manual~\cite{MiKTeX} describes each program in Section II, 6, 
in particular also the tex converters. 
This is the source of the following tables. 


The first observation is that, for \miktex{} all options start with two dashes, 
whereas for \texlive{} this is the case only for luatex. 
One has to clarify, whether the maven latex plugin under consideration really works for \miktex. 

{\footnotesize
\begin{longtable}{|lllll|}
  \toprule
  option & \multicolumn{3}{l}{included} & explanation \\
  \midrule
  \midrule
  \endfirsthead%
  \bottomrule
  \caption{\label{tab:latexOptionsCommonMiktex} Options of \TeX{} engines in \miktex}
  \endlastfoot%
  \texttt{-{}-alias=name}             & p&x&l       & Pretend to be program name, \dots\footnote%
 {Using this option is equivalent to copying the program file to name and invoking name.} \\
\texttt{-{}-aux-directory=dir}        & p&x&l       & 
Set \texttt{dir} as the directory to write auxiliary files to. \\
\texttt{-{}-buf-size=n}               & p&x&- & Set the the maximum number of characters \dots \\
\texttt{-{}-c-style-errors}           & p&x&l       & Change the way, error messages are printed. \\
\texttt{-{}-credits}                  & -&-&l & Display credits and exit\footnote%
   {The same as for \texlive. }. \\
\texttt{-{}-disable-8bit-chars}       & p&x&- & Make only 7-bit characters printable. \\
\texttt{-{}-disable/enable-installer} & p&x&l       & Disable/Enable automatic installation of packages. \\
\texttt{-{}-disable-write18}          & p&x&l       & Disable the \texttt{\textbackslash{}write18\{command\}} construct.\\
\texttt{-{}-enable-write18}           & p&x&l       & Fully enable the \texttt{\textbackslash{}write18\{command\}} construct\footnote%
{Corresponds roughly to \texttt{(-)-shell-escape} in \texlive. }. \\
\texttt{-{}-restrict-write18}         & p&x&l       & Partially enable the \texttt{\textbackslash{}write18{command}} construct. \\
%\texttt{-{}-parse-first-line}   & p&x&- & Disable checking \dots the first line \dots \\
\texttt{-{}-debug-format}             & -&-&l & Enable format debugging\footnote%
{The same as for \texlive. }. \\
\texttt{-{}-[dont-]parse-first-line}  & p&x&- & [Dont p|P]arse first line of input file \\
                                      &  & &        & under definite conditions\footnote%
{Similar for \texlive. Note that there is also a converse option. } \\
\texttt{-{}-draftmode}                & p&-&l  & switch on draft mode (generates no output PDF)\footnote%
{Some differences in formulation between the converter and also between distributions} \\
\texttt{-{}-enable-8bit-chars}        & p&x&- & Make all characters printable. \\
\texttt{-{}-enable-enctex}            & p&-&- & Enable encTeX extensions such as \texttt{\textbackslash{}mubyte}\footnote%
{Corresponds with \texttt{-enc} in \texlive. }. \\
\texttt{-{}-enable-etex}              & p&x&- & Enable eTeX extensions. \\
\texttt{-{}-enable-installer}        & p&x&l       & Enable automatic installation of packages. \\
\texttt{-{}-enable-mltex}             & p&x&- & Enable MLTeX extensions such as \texttt{\textbackslash{}charsubdef}. \\
\texttt{-{}-error-line=n}             & p&x&- & Set the width of context lines on \dots error messages. \\
\texttt{-{}-extra-mem-bot=n}          & p&x&- & Set the extra size \dots{} for large data structures \dots \\
\texttt{-{}-extra-mem-top=n}          & p&x&- & Set the extra size (in memory words) for chars, tokens, \dots. \\
\texttt{-{}-font-max=n}               & p&x&- & Set the maximum internal font number. \\
\texttt{-{}-font-mem-size=n}          & p&x&- & Set the size, in TeX memory words, of the font memory. \\
\texttt{-{}-half-error-line=n}        & p&x&- & Set the width of first lines of contexts \\
                                      &  & &        & in terminal error messages. \\
\texttt{-{}-halt-on-error}            & p&x&l       & Quit after the first error. \\
\texttt{-{}-hash-extra=n}             & p&x&- & Set the extra space for the hash table of control sequences \dots \\
\texttt{-{}-help}                     & p&x&l       & Give help and exitt\footnote%
{The same as for \texlive. }.. \\
\texttt{-{}-hhelp}                   & p&x&- & manual page in an HTML Help window\footnote%
{This option is only available on Windows systems.} \\
\texttt{-{}-include-directory=dir}    & p&x&l       & Add the directory \texttt{dir} to [those] \\
                                      &  & &        & to be searched for input files. \\
\texttt{-{}-initialize}               & p&x&l       & Become the INI variant of the program. \\
\texttt{-{}-interaction=mode}         & p&x&l       & Set the interaction mode (\texttt{mode=batchmode/nonstopmode/}\\
&& && \texttt{scrollmode/errorstopmode}). \\
\texttt{-{}-job-name=name}            & p&x&l       & Set the name of the job (\texttt{\textbackslash{}jobname}). \\
\texttt{-{}-job-time=file}            & p&x&- & Set the time-stamp of all output files \\
                                      &  & &        & equal to file's time-stamp. \\
\texttt{-{}-lua=FILE}                 & -&-&l & load and execute a lua initialization script\footnote%
   {The same as for \texlive. }.   \\
\texttt{-{}-luaonly}                  & -&-&l & Start LuaTeX as a Lua interpreter\footnote%
   {Could be the same as for \texlive. }.  \\
\texttt{-{}-luaconly}                 & -&-&l & byte-compile a lua file, then exit\footnote%
   {Could be the same as for \texlive. }. \\
\texttt{-{}-luahashchars}             & -&-&l & the bits used by current Lua interpreter for strings hashing \\
\texttt{-{}-main-memory=n}            & p&x&- & Change the total size \dots{} of the main memory array. \\
\texttt{-{}-max-in-open=n}            & p&x&- & Set the maximum number of input files \dots \\
\texttt{-{}-max-print-line=n}         & p&x&- & Set the width of longest text lines output. \\
\texttt{-{}-max-strings=n}            & p&x&- & Set the maximum number of strings. \\
\texttt{-{}-[no-]mktex=fmt}           & -&-&l & Enable/Disable \texttt{fmt} generation, \\
                                      &  & &  & where \texttt{fmt} must be either \texttt{tex} or \texttt{tfm}. \\
\texttt{-{}-nest-size=n}              & p&x&- & Set the maximum number of semantic levels \\
                                      &  & &        & simultaneously active. \\
\texttt{-{}-no-c-style-errors}        & p&x&l       & Don't change the way, error messages are printed. \\
\texttt{-{}-no-pdf}                   & -&x&- & generate XDV (extended DVI) output rather than PDF \\
\texttt{-{}-nosocket}                 & -&-&l & Disable the Lua socket library. \\
\texttt{-{}-output-comment=string}    & -&-&l & Use \texttt{string} for DVI file comment instead of date. \\
\texttt{-{}-output-directory=dir}     & p&x&l       & Write output files in \texttt{dir}\footnote%
{Similar as for \texlive. }. \\
\texttt{-{}-output-driver=CMD}        & -&x&- & use CMD as the XDV-to-PDF driver instead of xdvipdfmx \\
\texttt{-{}-output-format=format}     & p&-&l  & Use format for job output (one of: dvi, pdf)\footnote%
{\pdflatex{} and \lualatex{} differ a bit in text. Seems similar to \texlive. }. \\
\texttt{-{}-papersize=STRING}         & -&x&- & set PDF media size to STRING \\
\texttt{-{}-param-size=n}             & p&x&- & Set the the maximum number \\
                                      &  & &        & of simultaneous macro parameters. \\
\texttt{-{}-pool-free=n}              & p&x&- & Set the minimum pool space left after loading the format. \\
\texttt{-{}-pool-size=n}              & p&x&- & Set the maximum number of characters in strings, \dots \\
\texttt{-{}-quiet}                    & p&x&- & Suppress all output, except errors. \\
\texttt{-{}-record-package-usages=file} & p&x&- & Record all package usages and write them into \texttt{file}. \\
\texttt{-{}-recorder}                 & p&x&l       & Enable the file name recorder\footnote%
{The same as in \texlive. }. \\
\texttt{-{}-safer}                    & -&-&l & Disable easily exploitable Lua commands\footnote%
   {The same as for \texlive. }.   \\
\texttt{-{}-save-size=n}              & p&x&- & Set the the amount of space for saving values \\
                                      &  & &        & outside of current group. \\
\texttt{-{}-src-specials}             & p&x&- & Embed source file information in the DVI file\footnote%
{Similar as in \texlive. }. \\
\texttt{-{}-stack-size=n}             & p&x&- & Set the maximum number of simultaneous input sources. \\
\texttt{-{}-string-vacancies=n}       & p&x&- & Set the minimum number of characters \dots \\
\texttt{-{}-synctex=n}                & p&x&l       & Generate SyncTeX data for previewers\footnote%
{Explanation with more detail than for \texlive. } \\
\texttt{--tcx=tcxname}                & p&-&- & Use the tcxname translation table \dots \\
\texttt{-{}-time-statistics}          & p&x&- & Show processing time statistics. \\
\texttt{-{}-trace[=tracestreams]}     & p&x&- & Enable trace messages. \\
\texttt{-{}-trie-size=n}              & p&x&- & Set the amount of space for hyphenation patterns. \\
\texttt{-{}-undump=name}              & p&x&l       & Use name as the name of the format to be used, \dots \\
\texttt{-{}-utc}                        & -&-&l & Init time to UTC\footnote%
   {The same as for \texlive. }.  \\
\texttt{-{}-version}                  & p&x&l       & Show version information and exit\footnote%
{The same as for \texlive. }. \\
\end{longtable}
}

Strange, there are \texttt{-{}-enable-etex} and \texttt{-{}-enable-mltex} 
but no way to disable. 
Maybe disable is the default. 

\begin{verbatim}
  miktex-pdftex [option...] [[file] | [\command...]]
\end{verbatim}

% \begin{longtable}{|ll|}
%   \toprule
%   option & explanation \\
%   \midrule
%   \midrule
%   \endfirsthead%
%   \bottomrule
%   \caption{\label{tab:latexOptionsPdflatexMiktex} Options specific to \pdflatex{} }
%   \endlastfoot%
%   \end{longtable}




\begin{verbatim}
  miktex-luatex [option...] [[command...] | [file]]

The following options are ignored:

--8bit, --etex, --parse-first-line, --no-parse-first-line
These are always on.

--default-translate-file=tcxname, --translate-file=tcxname
These are always off.
\end{verbatim}

% \begin{longtable}{|ll|}
%   \toprule
%   option & explanation \\
%   \midrule
%   \midrule
%   \endfirsthead%
%   \bottomrule
%   \caption{\label{tab:latexOptionsLualatexMiktex} \miktex: Options specific to \lualatex{} }
%   \endlastfoot%
%   % \texttt{-{}-[no-]file-line-error-style} & aliases of --[no-]file-line-error \\
%   \midrule
%   \midrule
%   \end{longtable}


  
  
  

\begin{verbatim}
  miktex-xetex [option...] [[file] | [\command...]]
\end{verbatim}



% \begin{longtable}{|ll|}
%   \toprule
%   option & explanation \\
%   \midrule
%   \midrule
%   \endfirsthead%
%   \bottomrule
%   \caption{\label{tab:latexOptionsXelatexMiktex} \miktex: Options specific to \xelatex{} }
%   \endlastfoot%
%    \end{longtable}

%   Same options as for \texlive, except \texttt{-etex} which is specific to \texlive. 


\section{To be clarified}\label{sec:TBC}

Note that \xelatex{} works as the other engines for PDF, 
whereas it has XDV instead of DVI as alternative format. 
Thus the format DVI is ignored. 
See the manual. 


\bibliographystyle{alpha}
\bibliography{../lit}{}% chktex 11 


\end{document}


