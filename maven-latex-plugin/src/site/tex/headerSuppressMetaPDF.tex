% injection file written by latex plugin 2.0-SNAPSHOT

% presupposes hyperref and iftex (e.g. preload header.tex)

% xelatex enters always else branch of \ifpdf 
% This is maybe because it always creates xdv 
% and the difference is only that for pdf another step is executed. 
% Whether this is considered a bug.... ? hm. 
\ifXeTeX%
  % for xelatex
  % TBD: find a way to express pdfinfoomitdate: necessary? 
  % provide valid trailerid 
  \special{pdf:trailerid [
    <00112233445566778899aabbccddeeff>
    <00112233445566778899aabbccddeeff>
  ]}
\else
  \ifpdf%
    \ifLuaTeX%
      % for lualatex 
      % no adding to the trailer dictionary.
      \pdfvariable trailerid{}% chktex 1

      % omit only CreationDate and ModDate keys.
      % \pdfvariable suppressoptionalinfo 767% chktex 1
      % 767=512+0+128+64+...+1 this excludes all but 
      % We decided to omit all information 
      \pdfvariable suppressoptionalinfo -1% chktex 1
      % The meaning of the bits are described in luatex reference manual 
      % \cite{LuaTexRef}, Section 3.2.1. 
      % 0
      % + 1 % PTEX.FullBanner
      % + 2 % PTEX.FileName
      % + 4 % PTEX.PageNumber
      % + 8 % PTEX.InfoDict (/Producer /Creator /CreationDate /ModDate /Trapped)
      % + 16 % Creator
      % + 32 % CreationDate
      % + 64 % ModDate
      % + 128 % Producer
      % + 256 % Trapped
      % + 512 % ID
    \else
      \ifPDFTeX%
        % the following see pdftex user manual, \cite{PdfTexUsr}, Section 7.4
        \pdftrailerid{}

        % omit CreationDate and ModDate keys.
        % not before pdfTeX 3.14159265-2.6-1.40.17
        % the following two see pdftex user manual, \cite{PdfTexUsr}, Section 7.4
        \pdfinfoomitdate=1 % If nonzero, omit the /CreationDate and /ModDate
        % we do even more for security reasons 
        \pdfsuppressptexinfo=-1
        % eliminates PTEX info: 
        % 1 -> PTEX.Fullbanner
        % 2 -> PTEX.FileName
        % 4 -> PTEX.PageNumber
        % 8 -> PTEX.InfoDict (/Producer /Creator /CreationDate /ModDate /Trapped)

        % Replacing pdfinfoomitdate1 in conjunction with
        % \usepackage[nodocdata=true,nopdftrailerid=true]{pdfprivacy}

        % If doing without hyperref package (pdftex only): 
        % \pdfinfo{
        %   /Author       (Ernst Reissner)
        %   /Title        (The dvi-format and the program dvitype)
        %   /CreationDate (unknown)
        %   /ModDate      (unknown)
        %   /Subject      (dvi and dvitype)
        %   /Keywords     (LaTeX;dvi;dvitype)
        %}
      \else
        % Here, the tex processor is unknown. 
        \GenericError{...}{Tried compilation with unknown TeX compiler. }{}{} % chktex 11
      \fi%pdftex
    \fi%luatex
  \else%ifpdf
  \fi%ifpdf
\fi%xetex

% TBD: check of resulting pdf with exif unveils a warning duplicate author 

% TBD: there are ways to do without hypersetup. 

\hypersetup{
  % PTEX.InfoDict: (/Producer /Creator /CreationDate /ModDate /Trapped)
  % Except Trapped, this is exactly PTEX.InfoDict. 
  % TBD: deactivate this. 
  % There are settings like the banner or the trailer id, 
  % accessible only compile specific, 
  % so we cannot do without. 
  % Conversely, all accessible from hyperref and needed (consider xelatex) 
  % are accessible compiler specific. 
  % So this is not really needed. 
  pdfinfo={
    Creator     ={unknown}, 
    % LaTeX with hyperref; this is uniform for hyperref. 
    % else TeX for lua/pdflatex, but  XeTeX output 2023.12.06:0106 for xelatex 
    % thus it is advisable to eliminate this 
    % maybe security issue, but it is well visible. 
    % also corrupts reproducibility. 
    Producer    ={unknown},
    % xdvipdfmx with version and that like for dvi or xelatex; 
    % pdfTeX-1.40.25, LuaTeX-1.17.0 for pdf
    % This shall be eliminated. 
    CreationDate={unknown},
    ModDate     ={unknown}
    % these two are only overwritten to avoid wrong entry 
    % when using \texttt{SOURCE\_DATE\_EPOCH=0 FORCE\_SOURCE\_DATE=1}
    % This is recommended for tests, because else we cannot give a \date 
    }
}


