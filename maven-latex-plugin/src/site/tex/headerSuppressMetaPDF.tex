% injection file written by latex plugin 2.0-SNAPSHOT

% presupposes hyperref and iftex (e.g. preload header.tex)

% xelatex enters always else branch of \ifpdf 
% This is maybe because it always creates xdv 
% and the difference is only that for pdf another step is executed. 
% Whether this is considered a bug.... ? hm. 
\ifXeTeX%
  % for xelatex
  % TBD: find a way to express pdfinfoomitdate: necessary? 
  % provide valid trailerid 
  \special{pdf:trailerid [
    <00112233445566778899aabbccddeeff>
    <00112233445566778899aabbccddeeff>
  ]}
\else
  \ifpdf%
    \ifLuaTeX%
      % for lualatex 
      % no adding to the trailer dictionary.
      \pdfvariable trailerid{}% chktex 1

      % omit only CreationDate and ModDate keys.
      % \pdfvariable suppressoptionalinfo 767% chktex 1
      % 767=512+0+128+64+...+1 this excludes all but 
      % We decided to omit all information 
      \pdfvariable suppressoptionalinfo -1% chktex 1
      % The meaning of the bits are described in luatex reference manual 
      % \cite{LuaTexRef}, Section 3.2.1. 
      % 0
      % + 1 % PTEX.FullBanner
      % + 2 % PTEX.FileName
      % + 4 % PTEX.PageNumber
      % + 8 % PTEX.InfoDict
      % + 16 % Creator
      % + 32 % CreationDate
      % + 64 % ModDate
      % + 128 % Producer
      % + 256 % Trapped
      % + 512 % ID
    \else
      \ifPDFTeX%
        % the following see pdftex user manual, \cite{PdfTexUsr}, Section 7.4
        \pdftrailerid{}

        % omit CreationDate and ModDate keys.
        % not before pdfTeX 3.14159265-2.6-1.40.17
        % the following two see pdftex user manual, \cite{PdfTexUsr}, Section 7.4
        \pdfinfoomitdate=1 % If nonzero, omit the /CreationDate and /ModDate
        % we do even more for security reasons 
        \pdfsuppressptexinfo=-1
        % eliminates PTEX info: 
        % 1 -> PTEX.Fullbanner
        % 2 -> PTEX.FileName
        % 4 -> PTEX.PageNumber
        % 8 -> PTEX.InfoDict (/Producer /Creator /CreationDate /ModDate /Trapped)

        % Replacing pdfinfoomitdate1 in conjunction with
        % \usepackage[nodocdata=true,nopdftrailerid=true]{pdfprivacy}

        % If doing without hyperref package (pdftex only): 
        % \pdfinfo{
        %   /Author       (Ernst Reissner)
        %   /Title        (The dvi-format and the program dvitype)
        %   /CreationDate (unknown)
        %   /ModDate      (unknown)
        %   /Subject      (dvi and dvitype)
        %   /Keywords     (LaTeX;dvi;dvitype)
        %}
      \else
        % Here, the tex processor is unknown. 
        \GenericError{...}{Tried compilation with unknown TeX compiler. }{}{} % chktex 11
      \fi%pdftex
    \fi%luatex
  \else%ifpdf
  \fi%ifpdf
\fi%xetex

% TBD: check of resulting pdf with exif unveils a warning duplicate author 

\hypersetup{
  pdfinfo={
      CreationDate={unknown},
      ModDate     ={unknown},
      Producer    ={unknown}
    }
}


